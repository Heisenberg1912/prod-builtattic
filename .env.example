# Builtattic unified environment configuration

# Core runtime configuration
NODE_ENV=development
HOST=0.0.0.0
PORT=4000
PORT_FALLBACK_ATTEMPTS=5
API_PREFIX=/api
# Comma-separated origins so the same value works locally and on hosted previews
CLIENT_ORIGIN=http://localhost:5175,https://your-app.vercel.app
CLIENT_URL=http://localhost:5175
CORS_ORIGIN=http://localhost:5175,https://your-app.vercel.app
SERVE_CLIENT_FROM_API=false
CLIENT_BUILD_PATH=../client/dist

# Database
MONGO_URI=mongodb+srv://username:password@cluster.example.mongodb.net/?retryWrites=true&w=majority
MONGO_DBNAME=builtattic
MONGODB_URI=
MONGODB_DB=
USE_IN_MEMORY_DB=auto # allowed values: true, auto, false

# Authentication & tokens
JWT_SECRET=replace-with-long-random-string
JWT_ACCESS_SECRET=replace-with-long-random-string
JWT_ACCESS_EXP=15m
JWT_REFRESH_SECRET=replace-with-long-random-string
JWT_REFRESH_EXP=7d
REFRESH_TOKEN_EXPIRES_IN=30d
JWT_EXPIRES_IN=7d
DEFAULT_ROLE=user
GOOGLE_CLIENT_ID=your-google-oauth-client-id

# Email / SMTP
SMTP_URL=
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=alerts@example.com # mailbox that sends OTP/invite emails
EMAIL_PASS=app-password-or-client-secret # prefer an app password
EMAIL_FROM="Builtattic <alerts@example.com>" # display name for outbound mail

# Admin notifications
ADMIN_ALERT_EMAIL=ops@example.com # required for admin invite/reset alerts
SALES_ALERT_EMAIL=
SUPPORT_INBOX=support@example.com
SUPPORT_WEBHOOK_SECRET=

# File security
FILE_ENCRYPTION_KEY=64_hex_characters_generated_from_openssl
ASSET_TOKEN_SECRET=replace-with-long-random-string
ASSET_STORAGE_PROVIDER=drive
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_OAUTH_REFRESH_TOKEN=refresh-token-generated-via-oauth
GOOGLE_OAUTH_REDIRECT_URI=urn:ietf:wg:oauth:2.0:oob
GOOGLE_DRIVE_FOLDER_ID=drive-folder-id-for-uploads
GOOGLE_DRIVE_PUBLIC_URL_TEMPLATE=https://drive.google.com/uc?id={{fileId}}
GOOGLE_DRIVE_SUPPORT_SHARED=true

# Secret manager (optional)
SECRET_MANAGER_PROJECT=
SECRET_MANAGER_KEYS= # format ENV_NAME=secret-name,ENV_NAME_TWO=secret-two

# External APIs
GEMINI_ENABLED=true
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-2.5-flash
GEMINI_IMAGE_MODEL=gemini-2.5-flash-image
MATTERS_GEMINI_API_KEY=
MATTERS_CHAT_MODEL=
MATTERS_VISION_MODEL=
MATTERS_VISION_IMAGE_LIMIT=3
OPENWEATHER_API_KEY=your-openweather-api-key
VITRUVI_FREE_PROMPTS=6
VITRUVI_FREE_TOKENS=18000
VITRUVI_TOKEN_RATE_USD=0.0025
VITRUVI_USAGE_RESET_DAYS=30
VITRUVI_UNIT_ECONOMY_MULTIPLIER=1.15

# Payments (optional)
PAYMENTS_ENABLED=false
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# Blockchain proofs (optional)
BLOCKCHAIN_CHAIN_NAME=Polygon PoS
BLOCKCHAIN_EXPLORER_BASE_URL=https://polygonscan.com/tx/
BLOCKCHAIN_PROOF_NAMESPACE=builtattic-proofs
BLOCKCHAIN_SYNC_INTERVAL_MINUTES=15

# Client URLs
APP_BASE_URL=https://builtattic.com
CLIENT_BASE_URL=https://dashboard.builtattic.com
PUBLIC_CLIENT_URL=https://app.builtattic.com
CLIENT_LOGIN_URL=https://builtattic.com/login
PASSWORD_RESET_URL=https://builtattic.com/reset-password
CLIENT_RESET_URL=https://dashboard.builtattic.com/reset-password

# Miscellaneous
KEEP_ALIVE_TIMEOUT_MS=620000
SERVICE_NAME=builtattic-server
LOG_LEVEL=info
MARKETPLACE_CACHE_TTL_MS=15000

# Super admin bootstrap & maintenance
SUPER_ADMIN_EMAIL=superadmin@builtattic.com # runtime account enforced at boot
SUPER_ADMIN_PASSWORD=SuperAdmin#123
SEED_SUPERADMIN_EMAIL=builtattic@builtattic.com # used by `npm run seed:superadmin`
SEED_SUPERADMIN_PASSWORD=
ALLOW_DATA_RESET=false
ALLOW_WORKSPACE_PURGE=false

# Client (Vite) toggles
VITE_API_BASE_URL=/api
VITE_API_URL=
VITE_API_TIMEOUT_MS=15000
VITE_ENABLE_PORTAL_API=true
VITE_ENABLE_MARKETPLACE_API=auto
VITE_ENABLE_LOOKUP_API=false
VITE_ENABLE_OFFLINE_ACCOUNTS=false
# Optional: load associate dashboard data from a public Google Drive JSON when the API is unavailable
VITE_ASSOCIATE_DASHBOARD_DRIVE_URL=
VITE_ASSOCIATE_DASHBOARD_FROM_DRIVE=false
VITE_GOOGLE_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
VITE_VITRUVI_API_BASE=
VITE_MATTERS_API_BASE=
